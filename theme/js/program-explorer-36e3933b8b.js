!function e(t,i,s){function n(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return n(i?i:e)},c,c.exports,e,t,i,s)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(e,t,i){var s=e("./shims/jquery"),n=function(e){"undefined"!=typeof e?this.focusable=e:this.focusable=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"]};n.prototype.saveFocus=function(e){this.beforeOpenFocus=e},n.prototype.returnFocus=function(){this.beforeOpenFocus&&(this.beforeOpenFocus.focus(),this.beforeOpenFocus=null)},n.prototype.setInitialFocus=function(e){0!==e.length&&setTimeout(function(){e.focus()},1)},n.prototype.getFocusable=function(e){return e.find(this.focusable.join(",")).filter(":visible").filter(function(){var e=s(this).attr("tabindex");return"undefined"==typeof e?!0:s(this).attr("tabindex")>-1})},n.prototype.trapTab=function(e,t){t.preventDefault();var i,s=this.getFocusable(e),n=s.filter(":focus"),r=s.index(n);r>-1?(i=t.shiftKey?r-1:r+1,i>s.length-1?i=0:-1===i&&(i=s.length-1)):i=0,s.get(i).focus()},t.exports=n},{"./shims/jquery":2}],2:[function(e,t,i){(function(e){t.exports=e.jQuery}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,i){var s=function(e){this.env="production","undefined"!=typeof e&&(this.env=e)};s.prototype.setEnvironment=function(e){this.env=e},s.prototype.trackEvent=function(e){e.hitType="event","production"===this.env&&ga("send",e)},s.prototype.trackPageview=function(e){e.hitType="pageview","production"===this.env&&ga("send",e)},s.prototype.sendTo=function(e,t){var i=t.ctrlKey||t.metaKey?!0:!1;i?window.open(e):window.location.href=e},t.exports=s},{}],4:[function(e,t,i){!function(e){"use strict";function s(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var n=document.documentElement,r=function(){};n.addEventListener?r=function(e,t,i){e.addEventListener(t,i,!1)}:n.attachEvent&&(r=function(e,t,i){e[t+i]=i.handleEvent?function(){var t=s(e);i.handleEvent.call(i,t)}:function(){var t=s(e);i.call(e,t)},e.attachEvent("on"+t,e[t+i])});var o=function(){};n.removeEventListener?o=function(e,t,i){e.removeEventListener(t,i,!1)}:n.detachEvent&&(o=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(s){e[t+i]=void 0}});var a={bind:r,unbind:o};"function"==typeof define&&define.amd?define(a):"object"==typeof i?t.exports=a:e.eventie=a}(window)},{}],5:[function(e,t,i){!function(s,n){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return n(s,e,t)}):"object"==typeof i?t.exports=n(s,e("wolfy87-eventemitter"),e("eventie")):s.imagesLoaded=n(s,s.EventEmitter,s.eventie)}(window,function(e,t,i){"use strict";function s(e,t){for(var i in t)e[i]=t[i];return e}function n(e,t){return c?c(e).find(t):e.querySelectorAll(t)}function r(e){return"[object Array]"===p.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var i=0,s=e.length;s>i;i++)t.push(e[i]);else t.push(e);return t}function a(e,t,i){if(!(this instanceof a))return new a(e,t);"string"==typeof e&&(e=n(document,e)),this.elements=o(e),this.options=s({},this.options),"function"==typeof t?i=t:s(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var r=this;setTimeout(function(){r.check()})}function l(e){this.img=e}function h(e){this.src=e,f[e]=this}var c=e.jQuery,u=e.console,d="undefined"!=typeof u,p=Object.prototype.toString;a.prototype=new t,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var s=i.nodeType;if(s&&(1===s||9===s||11===s))for(var r=n(i,"img"),o=0,a=r.length;a>o;o++){var l=r[o];this.addImage(l)}}},a.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},a.prototype.check=function(){function e(e,n){return t.options.debug&&d&&u.log("confirm",e,n),t.progress(e),i++,i===s&&t.complete(),!0}var t=this,i=0,s=this.images.length;if(this.hasAnyBroken=!1,!s)return void this.complete();for(var n=0;s>n;n++){var r=this.images[n];r.on("confirm",e),r.check()}},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},c&&(c.fn.imagesLoaded=function(e,t){var i=new a(this,e,t);return i.jqDeferred.promise(c(this))}),l.prototype=new t,l.prototype.check=function(){var e=f[this.img.src]||new h(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var f={};return h.prototype=new t,h.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},h.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},h.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},h.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},h.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},h.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},a})},{eventie:4,"wolfy87-eventemitter":31}],6:[function(e,t,i){var s=e("../../shims/jquery"),n=e("../../shims/backbone"),r=e("../../shims/underscore"),o=(e("imagesloaded"),e("../../lib/get-script-data")),a={ListingsPageFilters:e("./ListingsPageFilters"),ListingsPageListings:e("./ListingsPageListings"),ListingsPageFiltersToggle:e("./ListingsPageFiltersToggle"),NoResults:e("./NoResults")};t.exports=n.View.extend({filtersView:a.ListingsPageFilters,isotopeOptions:{masonry:{gutter:".gutter"},percentPosition:!0,itemSelector:".item",getSortData:{name:"[data-name]",relevance:"[data-rel] parseInt"},sortBy:"name"},imagesloaded:!1,debounce:200,initialize:function(e){e=e||{},this.models=e.models,this.views=e.views,this.appName=e.appName,this.labelStyle=e.labelStyle||"default",this.tabIndex=e.tabIndex||{},this.modernBrowser="undefined"!=typeof e.modernBrowserCheck?e.modernBrowserCheck:!0,this.vent=r.extend({},n.Events),this.filtersContainer=e.filters||s(".filters"),this.listingsContainer=e.listings||s(".objects"),this.filtersToggle=new a.ListingsPageFiltersToggle({vent:this.vent}),this.noResultsView=new a.NoResults,this.listingsContainer.append(this.noResultsView.render().el);var t=this;this.listenTo(this.vent,"filters:reset",r.debounce(function(e){t.resetFilters.call(this,e)},this.debounce)),this.listenTo(this.vent,"isotope:sort",this.resetSort),this.listenTo(this.vent,"isotope:insert",this.insert),this.listenTo(this.vent,"isotope:remove",this.remove),this.initItems(this.render)},initItems:function(e){var t=this;this.listingsContainer.find(".item").each(function(e,i){i=s(i);var n=o(i);if(n){var r=n.type,a=n.type+"_item";if(t.models[r]&&t.views[a]){var l=new t.models[r](n);new t.views[a]({el:i,model:l})}}}),this.render()},initIsotope:function(){this.imagesloaded=!0,this.listingsContainer.isotope(this.isotopeOptions),this.listingsContainer.isotope("on","arrangeComplete",this.onArrangeComplete.bind(this)),this.filtersContainer.append(this.filtersToggle.render().el).append(this.filtersForm.render().el),this.listingsContainer.isotope(this.isotopeOptions)},render:function(){if(this.modernBrowser){var e=o(this.filtersContainer);this.filtersForm=new this.filtersView({data:e,vent:this.vent,filtersContainer:this.filtersContainer,tabIndex:this.tabIndex,appName:this.appName,labelStyle:this.labelStyle}),this.listingsContainer.imagesLoaded().done(this.initIsotope.bind(this))}},resetFilters:function(e){this.imagesloaded&&(e=e||[],this.listingsContainer.isotope({filter:e.join(", ")}))},resetSort:function(e){this.listingsContainer.isotope("updateSortData").isotope(),this.listingsContainer.isotope({sortBy:e})},onArrangeComplete:function(e){return e.length>0?void this.noResultsView.hide():void(this.noResultsView.isShowing()||this.noResultsView.show())},insert:function(e){this.listingsContainer.isotope("insert",e);var t=this;this.listingsContainer.imagesLoaded().done(function(){t.listingsContainer.isotope()})},remove:function(e){this.listingsContainer.isotope("remove",e)},track:function(e){if(e.prop("checked")){e.parents("fieldset").data().group,e.attr("id")}}})},{"../../lib/get-script-data":20,"../../shims/backbone":21,"../../shims/jquery":22,"../../shims/underscore":23,"./ListingsPageFilters":7,"./ListingsPageFiltersToggle":8,"./ListingsPageListings":9,"./NoResults":10,imagesloaded:5}],7:[function(e,t,i){var s=e("../../shims/jquery"),n=e("../../shims/backbone"),r=e("../../lib/analytics"),o=e("window-resize-watcher"),a={button:e("./filters/ButtonFilterSet"),checkbox:e("./filters/CheckboxFilterSet")};t.exports=n.View.extend({tagName:"form",className:"closed",hashFilters:[],events:{submit:"onSubmit"},initialize:function(e){if(this.data=e.data,this.data){this.vent=e.vent,this.filtersContainer=e.filtersContainer,this.tabIndex=e.tabIndex,this.appName=e.appName,this.labelStyle=e.labelStyle,this.useHash="undefined"==typeof e.useHash?!0:e.useHash,this.initQueryString(),this.initHashBang(),this.filters={},this.slugs={},this.breakpoint="hand";var t=this;this.filterViews=s.map(this.data,function(e,i){var s=e.type,n="create"+t.capitalizeFirstLetter(s);return t[n]?t[n].call(t,e,i):null});var i=new o(this.vent);s(window).on("resize",i.handleResize.bind(i)),this.listenTo(this.vent,"winresize:done",this.updateBreakpoint),this.listenTo(this.vent,"filters:toggle",this.toggleDisplay),this.listenTo(this.vent,"filters:add",this.addFilter),this.listenTo(this.vent,"filters:remove",this.removeFilter),this.listenTo(this.vent,"filters:removegroup",this.removeFilterGroup),this.listenTo(this.vent,"filters:trackevent",this.trackEvent)}},trackEvent:function(e){r.trackEvent({eventCategory:this.appName||"Listings",eventAction:"Click filter",eventLabel:e})},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},initQueryString:function(){var e=window.location.search.replace("?","");if(0!==e.length){var t=e.split("&"),i=this;s.each(t,function(e,t){t=t.split("="),"q"===t[0]&&(i.hashFilters.keyword="search-"+t[1].replace("-"," "))})}},initHashBang:function(){var e=window.location.hash.replace("#!/","");if(0!==e.length){var t=this;s.map(e.split("&"),function(e){var i=e.split("=");t.hashFilters[i[0]]=i[1]})}},onSubmit:function(e){e.preventDefault()},createButton:function(e,t){var i=this,r=s.map(e.options,function(e,t){return e.tabIndex=i.tabIndex.button||"input",e.labelStyle=i.labelStyle,new n.Model(e)});return new a.button({label:t,collection:new n.Collection(r),vent:this.vent,hashFilters:this.hashFilters,useHash:this.useHash})},createCheckbox:function(e,t){var i=this,r=s.map(e.options,function(e,t){return e.tabIndex=i.tabIndex.checkbox||"input",e.labelStyle=i.labelStyle,new n.Model(e)});return new a.checkbox({label:t,collection:new n.Collection(r),vent:this.vent,hashFilters:this.hashFilters,useHash:this.useHash})},updateBreakpoint:function(){this.breakpoint=s("#breakpoint .width :visible").attr("class"),s.inArray(this.breakpoint,["hand","lap"])>-1&&this.$el.hasClass("closed")?this.$el.attr("aria-hidden",!0):this.$el.removeAttr("aria-hidden")},toggleDisplay:function(){this.$el.toggleClass("closed"),s.inArray(this.breakpoint,["hand","lap"])>-1&&this.$el.hasClass("closed")?this.$el.attr("aria-hidden",!0):this.$el.removeAttr("aria-hidden")},addFilter:function(e,t,i){this.filters[e]||(this.filters[e]=[]),-1===s.inArray(t,this.filters[e])&&this.filters[e].push(t),this.slugs[e]||(this.slugs[e]=[]),-1===s.inArray(i,this.slugs[e])&&this.slugs[e].push(i),this.resetFilters()},removeFilter:function(e,t,i){var n=s.inArray(t,this.filters[e]);-1!==n&&this.filters[e].splice(n,1),n=s.inArray(i,this.slugs[e]),-1!==n&&this.slugs[e].splice(n,1),this.resetFilters()},removeFilterGroup:function(e){this.filters[e]=[],this.slugs[e]=[],this.resetFilters()},resetFilters:function(){this.useHash&&this.createHash();var e=this.formatFilters();this.vent.trigger("filters:reset",e)},getHashSlugs:function(){var e=[];return s.each(this.slugs,function(t,i){i.length&&e.push(t+"="+i.join(","))}),e},createHash:function(){var e=this.getHashSlugs();window.location.hash="#!/"+e.join("&")},formatFilters:function(){var e=0,t=[];for(var i in this.filters){var s=this.filters[i];if(s.length){if(0===e)t=s;else{for(var n=[],r=t,o=0,a=s.length;a>o;o++)for(var l=0,h=r.length;h>l;l++)n.push(r[l]+s[o]);t=n}e++}}return t},render:function(){this.breakpoint=s("#breakpoint .width :visible").attr("class"),s.inArray(this.breakpoint,["hand","lap"])>-1&&this.$el.attr("aria-hidden",!0);var e=this;return _.each(this.filterViews,function(t){e.$el.append(t.render().el)}),this}})},{"../../lib/analytics":19,"../../shims/backbone":21,"../../shims/jquery":22,"./filters/ButtonFilterSet":12,"./filters/CheckboxFilterSet":14,"window-resize-watcher":29}],8:[function(e,t,i){var s=(e("../../shims/jquery"),e("../../shims/backbone")),n={toggle:e("../../templates/filters/toggle.html")};t.exports=s.View.extend({className:"display-nav closed",template:n.toggle,events:{click:"onClick"},initialize:function(e){this.vent=e.vent,this.listenTo(this.vent,"filters:toggle",this.toggleDisplay)},onClick:function(e){this.vent.trigger("filters:toggle")},toggleDisplay:function(){this.$el.toggleClass("closed")},render:function(){return this.$el.append(this.template()),this}})},{"../../shims/backbone":21,"../../shims/jquery":22,"../../templates/filters/toggle.html":27}],9:[function(e,t,i){var s=(e("../../shims/jquery"),e("../../shims/backbone"));t.exports=s.View.extend({})},{"../../shims/backbone":21,"../../shims/jquery":22}],10:[function(e,t,i){var s=e("../../shims/backbone"),n={noresults:e("../../templates/noresults.html")};t.exports=s.View.extend({template:n.noresults,className:"noresults column",isShowing:function(){return this.$el.hasClass("show")},show:function(){this.$el.addClass("show")},hide:function(){this.$el.removeClass("show")},render:function(){return this.$el.append(this.template()),this}})},{"../../shims/backbone":21,"../../templates/noresults.html":28}],11:[function(e,t,i){var s=e("../../../shims/jquery"),n=(e("../../../shims/backbone"),{Filter:e("./Filter")}),r={button:e("../../../templates/filters/button.html")};t.exports=n.Filter.extend({template:r.button,events:{click:"onChange"},initialize:function(e){n.Filter.prototype.initialize.call(this,e),this.useHash=e.useHash},onChange:function(e){e.stopPropagation(),s(e.target).is("a")&&e.preventDefault(),n.Filter.prototype.onChange.call(this,e);var t=this.model.get("active");t?this.deactivateFilter():this.activateFilter()},track:function(){this.vent.trigger("filters:trackevent",this.model.get("name"))},setState:function(){var e=!1;return this.useHash&&this.hashFilters.length&&s.inArray(this.slug,this.hashFilters)>-1&&(e=!0),this.model.set("active",e),e},render:function(){this.slug=this.model.get("slug"),n.Filter.prototype.render.call(this),this.button=this.$el.find("button");var e=this.setState();return e&&this.activateFilter(),this},activateFilter:function(){this.$el.addClass("active"),this.model.set("active",!0),this.vent.trigger("filters:add",this.group,this.button.val(),this.slug),this.track()},deactivateFilter:function(){this.$el.removeClass("active"),this.model.set("active",!1),this.vent.trigger("filters:remove",this.group,this.button.val(),this.slug)},removeFromFilters:function(){this.deactivateFilter()}})},{"../../../shims/backbone":21,"../../../shims/jquery":22,"../../../templates/filters/button.html":24,"./Filter":16}],12:[function(e,t,i){var s=e("../../../shims/jquery"),n=(e("../../../shims/backbone"),{ButtonFilter:e("./ButtonFilter"),FilterSet:e("./FilterSet")});t.exports=n.FilterSet.extend({view:n.ButtonFilter,clearLocation:"before",clearText:"show all",activeFilters:[],initialize:function(e){n.FilterSet.prototype.initialize.call(this,e),this.parentView=e.parentView,this.listenTo(this.vent,"filters:add",this.addFilter),this.listenTo(this.vent,"filters:remove",this.removeFilter),0===this.hashFilters.length&&this.clearView.activate()},addFilter:function(e,t,i){-1===s.inArray(t,this.activeFilters)&&this.activeFilters.push(t),this.clearView.deactivate()},removeFilter:function(e,t,i){var n=s.inArray(t,this.activeFilters);-1!==n&&this.activeFilters.splice(n,1),0===this.activeFilters.length&&this.clearView.activate()}})},{"../../../shims/backbone":21,"../../../shims/jquery":22,"./ButtonFilter":11,"./FilterSet":17}],13:[function(e,t,i){var s=e("../../../shims/jquery"),n=e("../../../shims/backbone"),r={Filter:e("./Filter")},o={checkbox:e("../../../templates/filters/checkbox.html")},a=r.Filter.extend({template:o.checkbox,initialize:function(e){r.Filter.prototype.initialize.call(this,e),this.parentView=e.parent,this.useHash=e.useHash,this.childViews=[],this.setElement(this.el)},setElement:function(e){r.Filter.prototype.setElement.call(this,e),this.events["click .toggle-expand"]="iconClick","label"===this.model.get("tabIndex")&&(this.events["click label button"]="buttonClick")},iconClick:function(e){e.preventDefault(),this.toggleIcon.toggleClass("fa-minus-square-o fa-plus-square-o"),this.childFilters.toggleClass("open");var t;this.childFilters.hasClass("open")?(this.childFilters.removeAttr("aria-hidden"),t=this.screenReaderText.text().replace("Expand","Collapse"),this.screenReaderText.text(t)):(this.childFilters.attr("aria-hidden",!0),t=this.screenReaderText.text().replace("Collapse","Expand"),this.screenReaderText.text(t))},buttonClick:function(e){e.stopPropagation();var t=this.input.prop("checked");t?(this.input.prop("checked",!1),this.deactivateFilter()):(this.input.prop("checked",!0),this.activateFilter())},onChange:function(e){e.stopPropagation(),r.Filter.prototype.onChange.call(this,e);var t=this.input.prop("checked");t?this.activateFilter():this.deactivateFilter()},track:function(){this.vent.trigger("filters:trackevent",this.model.get("name"))},setParentElementAttr:function(){this.children=this.model.get("children"),this.children&&this.children.length>0?(this.model.set("parentElement",!0),this.$el.addClass("parent-level"),this.open=!1):this.model.set("parentElement",!1)},setCheckedAttr:function(){var e=!1;this.useHash&&this.hashFilters.length&&s.inArray(this.slug,this.hashFilters)>-1&&(e=!0),this.model.set("checked",e)},getChildView:function(){return a},render:function(){if(this.slug=this.model.get("slug"),this.setParentElementAttr(),this.setCheckedAttr(),r.Filter.prototype.render.call(this),this.input=this.$el.find("input"),this.input.prop("checked")&&this.activateFilter(),this.children&&this.children.length>0){this.toggleIcon=this.$el.find(".toggle-expand i"),this.screenReaderText=this.$el.find(".toggle-expand .visuallyhidden"),this.childFilters=s("<div />").addClass("child-filters").attr("aria-hidden",!0),this.$el.append(this.childFilters);var e=this;this.childViews=[],s.each(this.children,function(t,i){i.parentElement=!1,i.tabIndex=e.model.get("tabIndex"),i.labelStyle=e.model.get("labelStyle");var s=new n.Model(i),r=e.getChildView(),o=new r({model:s,group:e.group,vent:e.vent,hashFilters:e.hashFilters,useHash:e.useHash,parent:e});e.childViews.push(o),e.childFilters.append(o.render().el)})}return this},isChildFilter:function(){return this.parentView?!0:!1},activateFilter:function(){if(this.$el.addClass("active"),this.model.set("checked",!0),this.isChildFilter())this.vent.trigger("filters:add",this.group,this.parentView.input.val()+this.input.val(),this.slug),this.vent.trigger("filters:remove",this.group,this.parentView.input.val(),this.parentView.slug);else{var e=this.$el.find(".child-filters"),t=e.find("input:checked").length;t||this.vent.trigger("filters:add",this.group,this.input.val(),this.slug)}this.track()},deactivateFilter:function(){if(this.$el.removeClass("active"),this.model.set("checked",!1),this.isChildFilter()){this.vent.trigger("filters:remove",this.group,this.parentView.input.val()+this.input.val(),this.slug);var e=this.$el.siblings(".filter"),t=e.find("input:checked").length,i=this.parentView.input;!t&&i.prop("checked")&&this.vent.trigger("filters:add",this.group,this.parentView.input.val(),this.parentView.slug)}else this.vent.trigger("filters:remove",this.group,this.input.val(),this.slug)},removeFromFilters:function(){this.input.prop("checked",!1),this.deactivateFilter(),_.each(this.childViews,function(e){e.input.prop("checked",!1),e.deactivateFilter()})}});t.exports=a},{"../../../shims/backbone":21,"../../../shims/jquery":22,"../../../templates/filters/checkbox.html":25,"./Filter":16}],14:[function(e,t,i){var s=(e("../../../shims/jquery"),e("../../../shims/backbone"),{CheckboxFilter:e("./CheckboxFilter"),FilterSet:e("./FilterSet")});t.exports=s.FilterSet.extend({view:s.CheckboxFilter})},{"../../../shims/backbone":21,"../../../shims/jquery":22,"./CheckboxFilter":13,"./FilterSet":17}],15:[function(e,t,i){var s=(e("../../../shims/jquery"),e("../../../shims/backbone")),n={clear:e("../../../templates/filters/clear-button.html")};t.exports=s.View.extend({className:"clear",template:n.clear,events:{click:"clearFilters"},initialize:function(e){this.group=e.group,this.text=e.text},clearFilters:function(e){e.preventDefault(),this.trigger("filters:removeset")},render:function(){return this.$el.append(this.template({text:this.text})),this},activate:function(){this.$el.addClass("active")},deactivate:function(){this.$el.removeClass("active")}})},{"../../../shims/backbone":21,"../../../shims/jquery":22,"../../../templates/filters/clear-button.html":26}],16:[function(e,t,i){var s=(e("../../../shims/jquery"),e("../../../shims/backbone"));t.exports=s.View.extend({className:"filter",events:{change:"onChange"},initialize:function(e){this.filters=[],this.vent=e.vent,this.group=e.group,this.hashFilters=e.hashFilters,this.useHash=e.useHash},onChange:function(){},removeFromFilters:function(){},render:function(){return this.model.set("uniqueId",this.cid),this.$el.append(this.template(this.model.toJSON())),this}})},{"../../../shims/backbone":21,"../../../shims/jquery":22}],17:[function(e,t,i){var s=e("../../../shims/jquery"),n=e("../../../shims/backbone"),r={ClearFilters:e("./ClearFilters")};t.exports=n.View.extend({tagName:"fieldset",clearLocation:"after",clearText:"clear",initialize:function(e){this.options=e,this.vent=e.vent,this.label=e.label,this.group=this.label.toLowerCase().replace(" ",""),this.hashFilters=e.hashFilters[this.group]?e.hashFilters[this.group].split(","):[],this.useHash=e.useHash,this.views=[],this.clearView=new r.ClearFilters({group:this.group,text:this.clearText}),this.listenTo(this.clearView,"filters:removeset",this.deactivateSet)},createView:function(e){return new this.view({model:e,group:this.group,vent:this.vent,options:this.options,hashFilters:this.hashFilters,useHash:this.useHash})},append:function(e){var t=this.createView(e);this.$el.append(t.render().el),this.views.push(t)},deactivateSet:function(){_.each(this.views,function(e){e.removeFromFilters()})},render:function(){return this.$el.attr("data-group",this.group),this.$el.append(s("<legend />").text(this.label)),this.collection?("before"===this.clearLocation&&this.$el.append(this.clearView.render().el),this.collection.each(this.append,this),"after"===this.clearLocation&&this.$el.append(this.clearView.render().el)):this.model&&this.append(this.model),this}})},{"../../../shims/backbone":21,"../../../shims/jquery":22,"./ClearFilters":15}],18:[function(e,t,i){t.exports={views:{ListingsPage:e("./app/views/ListingsPage"),ListingsPageFilters:e("./app/views/ListingsPageFilters"),NoResults:e("./app/views/NoResults"),filters:{CheckboxFilter:e("./app/views/filters/CheckboxFilter"),CheckboxFilterSet:e("./app/views/filters/CheckboxFilterSet"),Filter:e("./app/views/filters/Filter"),FilterSet:e("./app/views/filters/FilterSet")}}}},{"./app/views/ListingsPage":6,"./app/views/ListingsPageFilters":7,"./app/views/NoResults":10,"./app/views/filters/CheckboxFilter":13,"./app/views/filters/CheckboxFilterSet":14,"./app/views/filters/Filter":16,"./app/views/filters/FilterSet":17}],19:[function(e,t,i){t.exports={trackEvent:function(e){e.hitType="event","production"===env&&ga("send",e)},trackPageview:function(e){e.hitType="pageview","production"===env&&ga("send",e)},sendTo:function(e,t){var i=t.ctrlKey||t.metaKey?!0:!1;i?window.open(e):window.location.href=e}}},{}],20:[function(e,t,i){var s=e("../shims/jquery");t.exports=function(e){var t=e.is("script")?e:e.find("script");if(0===t.length)return null;var i=s.parseJSON(t.html());return t.remove(),i}},{"../shims/jquery":22}],21:[function(e,t,i){(function(e){t.exports=e.Backbone}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(e,t,i){arguments[4][2][0].apply(i,arguments)},{dup:2}],23:[function(e,t,i){(function(e){t.exports=e._}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<div class="form-field '+(null==(__t=slug)?"":__t)+'">\n  <button type="button" value=".'+(null==(__t=slug)?"":__t)+'">'+(null==(__t=name)?"":__t)+"</button>\n</div>\n";return __p}},{}],25:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<div class="form-field '+(null==(__t=slug)?"":__t)+'">\n\n  <input type="checkbox" value=".'+(null==(__t=slug)?"":__t)+'" id="'+(null==(__t=slug)?"":__t)+"-"+(null==(__t=uniqueId)?"":__t)+'"\n    ',checked&&(__p+='\n      checked="checked"\n    '),__p+="\n    ","label"===tabIndex&&(__p+='\n      tabIndex="-1"\n    '),__p+='\n  >\n  <label for="'+(null==(__t=slug)?"":__t)+"-"+(null==(__t=uniqueId)?"":__t)+'">\n    ',"button"==labelStyle&&(__p+="\n      <button>\n    "),__p+="\n    ","undefined"!=typeof icon&&(__p+='\n      <i class="fa '+(null==(__t=icon)?"":__t)+'" aria-hidden="true"></i>\n    '),__p+="\n    "+(null==(__t=name)?"":__t)+"\n    ","button"==labelStyle&&(__p+="\n    </button>\n    "),__p+="\n  </label>\n\n  ",parentElement&&(__p+='\n    <button class="toggle-expand">\n      <i class="fa fa-plus-square-o" aria-hidden="true"></i>\n      <span class="icon-fallback">Expand '+(null==(__t=name)?"":__t)+'</span>\n      <span class="visuallyhidden">Expand '+(null==(__t=name)?"":__t)+"</span>\n    </button>\n  "),__p+="\n\n</div>\n";return __p}},{}],26:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<button type="button" class="small clear-button" aria-label="Clear filters in this section">\n  <i class="fa fa-fw fa-eraser" aria-hidden="true"></i>\n  <span class="text">'+(null==(__t=text)?"":__t)+"</span>\n</button>\n";return __p}},{}],27:[function(require,module,exports){module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+='<span>Filters</span>\n\n<button class="open">\n  <i class="fa fa-fw fa-chevron-down" aria-hidden="true"></i>\n  <span class="visuallyhidden">Open filters</span>\n</button>\n\n<button class="close">\n  <i class="fa fa-fw fa-times" aria-hidden="true"></i>\n  <span class="visuallyhidden">Close filters</span>\n</button>\n';return __p}},{}],28:[function(require,module,exports){module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+="<h4>We couldn't find any results for you.</h4>\n";return __p}},{}],29:[function(e,t,i){var s=e("./shims/underscore"),n=function(e){this.vent=e};n.prototype.handleResize=s.throttle(function(e){this.resizeId&&clearTimeout(this.resizeId);var t=this;this.resizeId=setTimeout(function(){t.vent.trigger("winresize:done")},300)},300),t.exports=n},{"./shims/underscore":30}],30:[function(e,t,i){arguments[4][23][0].apply(i,arguments)},{dup:23}],31:[function(e,t,i){(function(){"use strict";function e(){}function i(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,r=this,o=r.EventEmitter;n.getListeners=function(e){var t,i,s=this._getEvents();if(e instanceof RegExp){t={};for(i in s)s.hasOwnProperty(i)&&e.test(i)&&(t[i]=s[i])}else t=s[e]||(s[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,t){var s,n=this.getListenersAsObject(e),r="object"==typeof t;for(s in n)n.hasOwnProperty(s)&&-1===i(n[s],t)&&n[s].push(r?t:{listener:t,once:!1});return this},n.on=s("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=s("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var s,n,r=this.getListenersAsObject(e);for(n in r)r.hasOwnProperty(n)&&(s=i(r[n],t),-1!==s&&r[n].splice(s,1));return this},n.off=s("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var s,n,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(s=i.length;s--;)r.call(this,t,i[s]);else for(s in t)t.hasOwnProperty(s)&&(n=t[s])&&("function"==typeof n?r.call(this,s,n):o.call(this,s,n));return this},n.removeEvent=function(e){var t,i=typeof e,s=this._getEvents();if("string"===i)delete s[e];else if(e instanceof RegExp)for(t in s)s.hasOwnProperty(t)&&e.test(t)&&delete s[t];else delete this._events;return this},n.removeAllListeners=s("removeEvent"),n.emitEvent=function(e,t){var i,s,n,r,o,a=this.getListenersAsObject(e);for(r in a)if(a.hasOwnProperty(r))for(i=a[r].slice(0),n=i.length;n--;)s=i[n],s.once===!0&&this.removeListener(e,s.listener),o=s.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,s.listener);return this},n.trigger=s("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof t&&t.exports?t.exports=e:r.EventEmitter=e}).call(this)},{}],32:[function(e,t,i){var s=e("../../../shims/backbone"),n={ElasticsearchResult:e("../../models/ElasticsearchResult")};t.exports=s.Collection.extend({model:n.ElasticsearchResult,url:"/wp/wp-admin/admin-ajax.php",parse:function(e){return e.success?e.response?e.response.hits:(logger.log("Hit is undefined on elasticsearch response","error",{response:e}),[]):[]}})},{"../../../shims/backbone":47,
"../../models/ElasticsearchResult":33}],33:[function(e,t,i){var s=e("../../shims/backbone");t.exports=s.Model.extend({parse:function(e){return e.id=e._id,e}})},{"../../shims/backbone":47}],34:[function(e,t,i){var s=e("../../shims/backbone"),n=e("analytics");t.exports=s.View.extend({modalView:null,modal:null,thumbnailAssignment:"small_thumb",initialize:function(e){this.context=e.context?e.context:"Sidebar",this.analytics=new n,vent.on("modal:close",this.onModalClose,this)},hover:function(e){$(e.currentTarget).css("cursor","pointer")},openModal:function(e){e.preventDefault(),this.modalView&&(this.modal?this.modal.toTop():(this.modal=new this.modalView({model:this.model,focusBeforeOpen:$(":focus")}),this.modal.show(),this.trackModalOpen()))},onModalClose:function(e){this.modal&&e==this.model&&(this.modal=null)},trackModalOpen:function(){this.analytics.trackEvent({eventCategory:this.context,eventAction:"Open Modal",eventLabel:this.model.get("post_type")+" : "+this.model.get("post_title")})},render:function(){return this.$el.append(this.template(this.model.toJSON())),this}})},{"../../shims/backbone":47,analytics:3}],35:[function(e,t,i){var s=e("../../shims/jquery"),n=e("../../shims/backbone"),r=e("../../lib/getMedia"),o=e("accessible-modal"),a={modalBackground:e("../../templates/modal-background.html")};t.exports=n.View.extend({className:"modal-background",backgroundTemplate:a.modalBackground,thumbnailAssignment:"featured",events:{"click .close":"close"},initialize:function(e){var t="undefined"!=typeof this.model.get("ID")?this.model.get("ID"):this.model.get("_id");this.model.set("id",t),this.setImage(),this.setAccentColor(),s("body").on("keydown."+t,this.evaluateKeyDown.bind(this)),this.listenTo(vent,"modal:closeall",this.close.bind(this)),this.accessibleModal=new o,this.accessibleModal.saveFocus(e.focusBeforeOpen),this.elementsToHide=s(".page-container").children().not(".modal-overlay"),this.render()},evaluateKeyDown:function(e){var t=jhumodals.isActive(this.$el);if(t){var i=e.charCode?e.charCode:e.keyCode;9===i&&this.accessibleModal.trapTab(this.$el,e)}},setImage:function(){var e=this.model.get("meta")||this.model.get("_source");this.image=r(e.media,this.thumbnailAssignment),this.model.set("image",this.image)},setAccentColor:function(){var e=this.model.get("color");!e&&this.image&&(e=this.image.hex?{accent:this.image.hex,contrast:this.image.contrast}:null,this.model.set("color",e))},render:function(){var e=this.model?this.model.toJSON():{};return this.$el.append(this.backgroundTemplate(e)),this.$el.find(".modal-document").append(this.template(e)),this},show:function(){jhumodals.add(this.$el),this.showModal(),this.elementsToHide.attr("aria-hidden","true"),s("body").addClass("modals-open")},showModal:function(){this.$el.appendTo("body").hide().show(0).addClass("modal-open").attr("role","dialog").attr("aria-labelledby","aria-label-"+this.model.get("id")).attr("aria-desribedby","aria-description-"+this.model.get("id")),this.accessibleModal.setInitialFocus(this.$el.find(".close"))},close:function(e){this.stopListening(),this.undelegateEvents(),s("body").off("keydown."+this.model.get("id")),e&&(e.stopPropagation(),e.preventDefault()),jhumodals.remove(this.$el),0===jhumodals.count()&&(this.accessibleModal.returnFocus(),s("body").removeClass("modals-open"),this.elementsToHide.removeAttr("aria-hidden")),this.$el.removeClass("modal-open"),setTimeout(this.remove.bind(this),1e3),vent.trigger("modal:close",this.model)},toTop:function(){this.$el.remove().removeClass("modal-open"),this.showModal(),this.delegateEvents()}})},{"../../lib/getMedia":45,"../../shims/backbone":47,"../../shims/jquery":48,"../../templates/modal-background.html":50,"accessible-modal":1}],36:[function(e,t,i){var s=(e("../../../shims/backbone"),{Modal:e("../ModalView")}),n={fieldOfStudyModal:e("../../../templates/fields_of_study/field-of-study-modal.html")};t.exports=s.Modal.extend({template:n.fieldOfStudyModal})},{"../../../shims/backbone":47,"../../../templates/fields_of_study/field-of-study-modal.html":49,"../ModalView":35}],37:[function(e,t,i){var s=(e("../../../shims/backbone"),{FieldOfStudyModal:e("./FieldOfStudyModalView"),ModalTrigger:e("../ModalTriggerView")});t.exports=s.ModalTrigger.extend({modalView:s.FieldOfStudyModal,events:{click:"openModal",mouseover:"hover"}})},{"../../../shims/backbone":47,"../ModalTriggerView":34,"./FieldOfStudyModalView":36}],38:[function(e,t,i){var s=(e("../../../../shims/jquery"),e("../../../../shims/backbone"),e("listings-page")),n={AcademicsListingsPageFilters:e("./AcademicsListingsPageFilters"),ListingsPage:s.views.ListingsPage};t.exports=n.ListingsPage.extend({filtersView:n.AcademicsListingsPageFilters})},{"../../../../shims/backbone":47,"../../../../shims/jquery":48,"./AcademicsListingsPageFilters":39,"listings-page":18}],39:[function(e,t,i){var s=e("../../../../shims/jquery"),n=e("../../../../shims/backbone"),r=e("listings-page"),o=e("analytics"),a={checkbox:r.views.filters.CheckboxFilterSet,division_checkbox:e("./filters/DivisionCheckboxFilterSet"),ListingsPageFilters:r.views.ListingsPageFilters,search:e("./filters/SearchFilterSet")};t.exports=a.ListingsPageFilters.extend({initialize:function(e){this.analytics=new o,a.ListingsPageFilters.prototype.initialize.call(this,e),this.listenTo(this.vent,"filters:tracksearch",this.trackSearch)},createCheckbox:function(e,t){var i="checkbox";"Divisions"===t&&(i="division_checkbox");var r=this,o=s.map(e.options,function(e,t){return e.tabIndex=r.tabIndex.checkbox||"input",e.labelStyle=r.labelStyle,new n.Model(e)});return new a[i]({label:t,collection:new n.Collection(o),vent:this.vent,hashFilters:this.hashFilters,useHash:this.useHash})},createSearch:function(e,t){return e.tabIndex=this.tabIndex.search||"input",e.labelStyle=this.labelStyle,new a.search({label:t,model:new n.Model(e),vent:this.vent,hashFilters:this.hashFilters,useHash:this.useHash})},trackSearch:function(e){this.analytics.trackPageview({page:e})},render:function(){return a.ListingsPageFilters.prototype.render.call(this),this.filtersContainer.find(".loading").remove(),this}})},{"../../../../shims/backbone":47,"../../../../shims/jquery":48,"./filters/DivisionCheckboxFilterSet":41,"./filters/SearchFilterSet":43,analytics:3,"listings-page":18}],40:[function(e,t,i){var s=(e("../../../../../shims/jquery"),e("../../../../../shims/backbone"),e("listings-page")),n={CheckboxFilter:s.views.filters.CheckboxFilter},r={divisionCheckbox:e("../../../../../templates/pages/listings/filters/division-checkbox.html")},o=n.CheckboxFilter.extend({template:r.divisionCheckbox,events:{"click .info button":"toggleInformation"},getChildView:function(){return o},toggleInformation:function(e){e.stopPropagation();var t=this.$el.find(".info"),i=t.hasClass("show");i?(t.removeClass("show"),t.removeAttr("aria-hidden")):(t.addClass("show"),t.attr("aria-hidden",!0))}});t.exports=o},{"../../../../../shims/backbone":47,"../../../../../shims/jquery":48,"../../../../../templates/pages/listings/filters/division-checkbox.html":51,"listings-page":18}],41:[function(e,t,i){var s=(e("../../../../../shims/jquery"),e("../../../../../shims/backbone"),e("listings-page")),n={CheckboxFilterSet:s.views.filters.CheckboxFilterSet,DivisionCheckboxFilter:e("./DivisionCheckboxFilter")};t.exports=n.CheckboxFilterSet.extend({view:n.DivisionCheckboxFilter})},{"../../../../../shims/backbone":47,"../../../../../shims/jquery":48,"./DivisionCheckboxFilter":40,"listings-page":18}],42:[function(e,t,i){var s=e("../../../../../shims/jquery"),n=(e("../../../../../shims/backbone"),{ElasticsearchResultSet:e("../../../../collections/search/ElasticsearchResultSet")}),r=e("listings-page"),o=e("../../../../../lib/elasticsearch-process-results"),a={Filter:r.views.filters.Filter},l={search:e("../../../../../templates/pages/listings/filters/search.html")};t.exports=a.Filter.extend({template:l.search,filter:"",matches:[],initialize:function(e){a.Filter.prototype.initialize.call(this,e),this.setElement(this.el)},setElement:function(e){a.Filter.prototype.setElement.call(this,e),this.events["keydown input"]="onKeyDown",this.events["focus input"]="clearKeyword",this.events["click .clear-button"]="clearKeyword",this.events["click .submit-button"]="searchByKeyword"},render:function(){if(a.Filter.prototype.render.call(this),this.input=this.$el.find("input[name=q]"),this.useHash&&this.hashFilters.length){var e=this.hashFilters[0].replace("search-","").replace("-"," ");this.input.val(e),this.searchByKeyword()}return this},onKeyDown:function(e){var t=e.charCode?e.charCode:e.keyCode;13===t&&this.searchByKeyword()},clearKeyword:function(){this.input.val("");setTimeout(this.deactivateFilter.bind(this),5)},searchByKeyword:function(){this.matches&&this.deactivateFilter();var e=this.input.val();if(this.input.blur(),e){this.filter="search-"+this.createDomFriendlyKeyword(e);var t=this;this.collection=new n.ElasticsearchResultSet;var i={action:"search_elasticsearch",query:e,per_page:50};this.collection.fetch({data:i}).then(function(){o(t.collection,{percentage:.3}),t.collection.each(function(e,i){var n=e.get("id"),r=s("#field-"+n);r.addClass(t.filter).attr("data-rel",i+1),t.matches.push(r)}),t.vent.trigger("isotope:sort","relevance"),t.activateFilter()}),this.sendRequestToGoogle(e)}},activateFilter:function(){this.$el.addClass("clear"),this.vent.trigger("filters:add",this.group,"."+this.filter,this.filter)},deactivateFilter:function(){this.$el.removeClass("clear"),this.vent.trigger("isotope:sort","name"),this.vent.trigger("filters:remove",this.group,"."+this.filter,this.filter);var e=this;s.each(this.matches,function(t,i){s(i).removeClass(e.filter).attr("data-rel",0)}),this.matches=[],this.filter=""},sendRequestToGoogle:function(e){var t=window.location,i=t.pathname;"/"==i.substr(-1)&&(i=i.substr(0,i.length-1));var s=t.protocol+"//"+t.hostname+i+"?q="+e+"&c="+this.model.get("category");this.vent.trigger("filters:tracksearch",s)},createDomFriendlyKeyword:function(e){return e.replace(/[^A-Za-z0-9-\s]*/g,"").replace(/\s+/g,"-")}})},{"../../../../../lib/elasticsearch-process-results":44,"../../../../../shims/backbone":47,"../../../../../shims/jquery":48,"../../../../../templates/pages/listings/filters/search.html":52,"../../../../collections/search/ElasticsearchResultSet":32,"listings-page":18}],43:[function(e,t,i){var s=(e("../../../../../shims/jquery"),e("../../../../../shims/backbone"),e("listings-page")),n={SearchFilter:e("./SearchFilter"),FilterSet:s.views.filters.FilterSet};t.exports=n.FilterSet.extend({view:n.SearchFilter})},{"../../../../../shims/backbone":47,"../../../../../shims/jquery":48,"./SearchFilter":42,"listings-page":18}],44:[function(e,t,i){function s(e,t){if(t=t||{},0===e.length)return e;if(t.percentage)var i=e[0]._score,s=i*t.percentage;var n=[];return _.each(e,function(e){t.percentage&&e._score<s||t.exclude&&_.indexOf(t.exclude,e._id)>-1||n.push(e)}),t.returnNum?n.slice(0,t.returnNum):n}function n(e,t){if(t=t||{},0!==e.length){if(t.percentage)var i=e.at(0).get("_score"),s=i*t.percentage;var n=[];e.each(function(e,i){t.percentage&&e.get("_score")<s&&n.push(e),t.exclude&&_.indexOf(t.exclude,e.get("_id"))>-1&&n.push(e),t.returnNum&&i>t.returnNum-1&&n.push(e)}),e.remove(n)}}e("../shims/backbone");t.exports=function(e,t){return e.models?n(e,t):s(e,t)}},{"../shims/backbone":47}],45:[function(e,t,i){function s(e,t){if("string"==typeof e[0].file)return!1;var i=e[0].file;if(!i)return!1;var s=e[0].file.crops;return s[t]?s[t].url:!1}function n(e){return e[0].accent_color&&e[0].accent_color.name?e[0].accent_color:null}function r(e){return e[0].file.alt_text}var o=e("../shims/jquery"),a={small_thumb:["small_thumb","large_thumb","featured"],large_thumb:["large_thumb","small_thumb","featured"],featured:["featured","large_thumb","small_thumb"]};t.exports=function(e,t,i){if(!e)return null;var l=null;return i=i||t,o.each(a[t],function(t,o){if(e[o]){var a=s(e[o],i);if(a){var h=null,c=null,u=n(e[o]);if(u)var h=u.hex,c=u.contrast;l={url:a,hex:h,contrast:c,alt_text:r(e[o])}}return!1}}),l}},{"../shims/jquery":48}],46:[function(e,t,i){(function(t){var i=e("./shims/jquery"),s={AcademicsListingsPage:e("./app/views/pages/listings/AcademicsListingsPage")};t.logger.loaded(function(){i(function(){new s.AcademicsListingsPage({filters:i(".filters"),listings:i(".fields-of-study"),models:{field_of_study:Backbone.Model,search_response:Backbone.Model},views:{field_of_study_item:e("./app/views/field_of_study/FieldOfStudyProgramExplorerTeaserView"),search_response_item:Backbone.View},tabIndex:{checkbox:"label"},appName:"Program Explorer",labelStyle:"button"})})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./app/views/field_of_study/FieldOfStudyProgramExplorerTeaserView":37,"./app/views/pages/listings/AcademicsListingsPage":38,"./shims/jquery":48}],47:[function(e,t,i){arguments[4][21][0].apply(i,arguments)},{dup:21}],48:[function(e,t,i){arguments[4][2][0].apply(i,arguments)},{dup:2}],49:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<div class="field-of-study-modal modal-content force">\n\n  <div class="info all-alone column">\n\n    <h3 id="aria-label-'+(null==(__t=id)?"":__t)+'">'+(null==(__t=post_title)?"":__t)+"</h3>\n\n    "+(null==(__t=_helper.displayDivisions(meta))?"":__t)+"\n\n    ",filtering.degrees&&(__p+='\n      <ul class="degrees meta" aria-label="Degrees">\n        ',_.each(filtering.degrees,function(e){__p+='\n          <li class="'+(null==(__t=e.slug)?"":__t)+'"><i class="fa '+(null==(__t=e.icon)?"":__t)+'" aria-hidden="true"></i> '+(null==(__t=e.name)?"":__t)+"</li>\n        "}),__p+="\n      </ul>\n    "),__p+='\n\n    <div class="summary">\n      '+(null==(__t=meta.summary)?"":__t)+'\n    </div>\n\n    <p class="website"><a href="'+(null==(__t=meta.website)?"":__t)+'"><i class="fa fa-fw fa-globe" aria-hidden="true"></i> Visit website</a></p>\n\n  </div>\n\n</div>\n';return __p}},{}],50:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+='<div class="modal-document" role="document">\n\n';var style="undefined"!=typeof color&&color&&"000"===color.contrast?"dark":"light";__p+='\n\n<p id="aria-description-'+(null==(__t=id)?"":__t)+'" class="visuallyhidden">You are in a modal window. Press the escape key to exit.</p>\n\n<button class="close close-box-x '+(null==(__t=style)?"":__t)+'" aria-label="Close button"><i class="fa fa-fw fa-times" aria-hidden="true"></i></button>\n\n</div>\n'}return __p}},{}],51:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<div class="form-field '+(null==(__t=post_name)?"":__t)+'">\n\n  <input type="checkbox" value=".'+(null==(__t=post_name)?"":__t)+'" id="'+(null==(__t=post_name)?"":__t)+"-"+(null==(__t=uniqueId)?"":__t)+'"\n    ',checked&&(__p+='\n      checked="checked"\n    '),__p+="\n    ","label"===tabIndex&&(__p+='\n      tabIndex="-1"\n    '),__p+='\n  >\n  <label for="'+(null==(__t=post_name)?"":__t)+"-"+(null==(__t=uniqueId)?"":__t)+'"><button>'+(null==(__t=post_title)?"":__t)+"</button></label>\n\n  ","undefined"!=typeof meta.short_description&&(__p+='\n\n    <div class="info">\n      <button>\n        <i class="fa fa-fw fa-info-circle" aria-hidden="true"></i>\n        <span class="visuallyhidden">Show information about '+(null==(__t=post_title)?"":__t)+'</span>\n      </button>\n      <div class="info-text">'+(null==(__t=meta.short_description)?"":__t)+"</div>\n    </div>\n\n  "),__p+="\n\n</div>\n";return __p}},{}],52:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<div class="search-box force">\n  <input type="hidden" name="c" value="'+(null==(__t=category)?"":__t)+'">\n  <label class="visuallyhidden" for="search-'+(null==(__t=uniqueId)?"":__t)+'">',"label"===tabIndex&&(__p+='<a href="#">'),__p+="Search","label"===tabIndex&&(__p+="</a>"),__p+='</label>\n  <input id="search-'+(null==(__t=uniqueId)?"":__t)+'" class="column" type="text" name="q" value="" autocomplete="off" ',"label"===tabIndex&&(__p+='tabIndex="-1"'),__p+='>\n  <button type="button" class="column submit-button button"><i class="fa fa-fw fa-compass"></i><span class="text">explore</span></button>\n  <button type="button" class="column clear-button button"><i class="fa fa-fw fa-eraser"></i><span class="text">clear</span></button>\n</div>\n';return __p}},{}]},{},[46]);